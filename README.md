# 식인종-선교사 문제 유전자 알고리즘 (GA)

이 프로젝트는 고전적인 AI 탐색 문제인 **'식인종-선교사 강 건너기 문제'**를 **유전자 알고리즘(Genetic Algorithm)**을 사용하여 해결합니다.

3명의 선교사와 3명의 식인종이 2인용 배 한 척으로 강을 건너야 하며, 어느 한쪽 강둑이든 식인종의 수가 선교사의 수보다 많아지면 안 된다(선교사가 잡아먹힌다)는 제약 조건 하에서 모든 인원이 강을 건너는 '행동 순서'를 찾는 것이 목표입니다.



---

## 1. 프로젝트 파일 구조 및 역할

이 프로젝트는 '문제 환경'을 정의하는 파일, '해를 찾는 GA 솔버', 그리고 '해를 검증하는 테스터'로 명확히 나뉩니다.

### 1. 게임 환경 (Game Engine)

* **`command.py`**: GA의 '유전자(Gene)'로 사용될 5가지 행동(예: "식인종 1명 이동")을 정의합니다.
* **`state.py`**: 현재 강 양쪽의 선교사/식인종 수와 배의 위치를 나타내는 `State` 객체를 정의합니다. 행동에 따른 상태 변경(`move`), 불법 상태 확인(`is_illegal`), 목표 달성 확인(`is_goal`) 등 핵심 규칙이 포함됩니다.

### 2. GA 솔버 (Solvers - 해 찾기)

* **`genetic.py`**: **(버전 1)** 기본적인 유전자 알고리즘 구현체입니다. `evolve` 함수가 세대 전체를 교체하는 표준적인 방식을 사용합니다. (엘리트주의 X)
* **`eliteGenetic.py`**: **(버전 2 - 개선)** **엘리트주의(Elitism)가 적용된** 개선된 유전자 알고리즘입니다. `evolve` 함수가 현재 세대에서 가장 우수한 해(부모)를 보존하고, 자식이 가장 열등한 해만 대체하도록 하여 수렴 속도와 안정성을 높입니다.

### 3. 솔루션 검증 (Tester - 해 검증)

* **`main.py`**: **솔루션 검증 스크립트 (Tester)**입니다.
    * `genetic.py`나 `eliteGenetic.py`가 찾아낸 해답(염색체 리스트)을 `solution` 변수에 **사용자가 직접 입력**하면, 그 해가 올바르게 작동하는지(목표에 도달하는지) `state.py`를 이용해 단계별로 시뮬레이션하고 검증하는 파일입니다.

---

## 2. 알고리즘 핵심 정의 (GA 솔버)

`genetic.py`와 `eliteGenetic.py`는 공통적으로 다음과 같은 로직을 사용하여 최적해를 탐색합니다.

* **염색체 (Chromosome)**: '행동 명령(1~5)의 순서'를 나타내는 리스트입니다. (예: `[5, 1, 3, 2, ...]`)
* **적합도 함수 (Fitness Function)**:
    1.  염색체(행동 순서)를 `state.py`를 이용해 처음부터 끝까지 **시뮬레이션**합니다.
    2.  **페널티 (Penalty)**: 시뮬레이션 중 `state.is_illegal()` (선교사가 잡아먹힘) 상태가 되면 강력한 페널티 점수(-100 또는 -180)를 부여합니다.
    3.  **보상 (Reward)**: 무사히 `state.is_goal()` (모두 건너기)에 도달하면 높은 보상 점수(180)를 부여합니다.

---

## 3. 실행 결과 (솔버 & 테스터)

`eliteGenetic.py` (솔버)를 실행하여 최적의 해(커맨드 리스트)를 찾고, 이 해를 `main.py` (테스터)에 입력하여 최종 성공을 확인합니다.

| 1. 솔버 실행 결과 (최적해 발견) | 2. 테스터 실행 결과 (해답 검증) |
| :---: | :---: |
| `eliteGenetic.py`가 찾은 최적해(염색체)와 적합도 80점 이상 | 위에서 찾은 해를 `main.py`에 입력하여 실행한 최종 결과 |
| <img width="407" height="558" alt="image" src="https://github.com/user-attachments/assets/074370e1-4299-4bdd-8f4c-2ae28703e51f" /> | <img width="450" height="856" alt="image" src="https://github.com/user-attachments/assets/23c7b31f-6a37-49ba-964f-6be036b4de5e" /> |

---

## 4. 실행 방법 및 워크플로우

이 프로젝트의 권장 사용 순서는 다음과 같습니다.

**1단계: 최적의 해 찾기 (Solver 실행)**
`eliteGenetic.py` (개선된 버전) 또는 `genetic.py` (기본 버전)를 실행하여 최적의 해(염색체 리스트)를 찾습니다.

```bash
# 엘리트 GA 실행 (권장)
python eliteGenetic.py
```

## 5. 실행 방법 및 워크플로우
```bash
# 유전자 알고리즘을 통해 나온 최적의 해 입력
python main.py
```
main.py를 실행하여 이 해답이 문제를 올바르게 해결하는지 단계별로 확인합니다.
